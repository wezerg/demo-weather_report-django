{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'timer/style.css' %}">
<h3>Timer Page</h3>
{% if tabDates %}
    {% for date in tabDates %}
    <div class="blocDate">
        <p id="localisation">Localisation : {{ date.localisation }}</p>
        <p>Date : {{ date.date }}</p>
        <p>Heure : {{ date.heure }}</p>
    </div>
    {% endfor %}
{% else %}
    <p>No Timer are available.</p>
{% endif %}
<script>
    fetch("test1", {
            method: "GET",
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
                "X-Frame-Options": "sameorigin",
                "Accept": "application/json",
                "Content-Type": "application/json"
            }
    }).then(function(response) {
        console.log(response)
        document.getElementById('localisation').innerHTML = response
    })
    /*
    console.log("{{tabDates}}");
    let tabDate = "{{tabDates}}".split("&#x27;");
    let tempString = "";
    tabDate = tabDate.forEach((val, index) => {
        tempString += val;
    })
    tempString = tempString.substring(1, tempString.length - 1)
    tempString.replace(' ', '');
    tempString = tempString.split(', ')
    console.log(tempString)
    tabDate = [];
    for (const date of tempString) {
        console.log(date);
        tabDate.push(JSON.stringify(date));
    }
    console.log(tabDate)
    */
</script>
